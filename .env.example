# =============================================================================
# Beat Analyzer Konfiguration
# =============================================================================
# Kopiere nach build/.env und passe an: cp .env.example build/.env

# --- Audio -------------------------------------------------------------------

JACK_CLIENT_NAME=beat-analyzer
NUM_BPM_CHANNELS=1              # JACK Ports: bpm_1 (Beat-Erkennung)
NUM_VU_CHANNELS=12              # JACK Ports: vu_1..vu_12 (Peakmeter)
BPM_MIN=60
BPM_MAX=140

# --- OSC Ausgabe -------------------------------------------------------------

# Ziele (beliebig viele). Format: OSC_HOST_Name=host:port
# Hier läuft /beat (Beat Clock)
OSC_HOST_radla=192.168.43.96:9000
OSC_HOST_mixer=192.168.43.55:7771
OSC_HOST_motion=192.168.43.54:7771

# Separate VU-Ports (optional). Format: OSC_VU_Name=host:port
# Wenn definiert, gehen /vu Bundles hierhin statt an OSC_HOST_*.
# /beat und /vu stören sich so nicht gegenseitig.
# Wenn NICHT definiert: VU geht an den normalen OSC_HOST Port.
OSC_VU_radla=192.168.43.96:9001
OSC_VU_mixer=192.168.43.55:7772
OSC_VU_motion=192.168.43.54:7772

# Sende-Rate für VU-Bundles (Hz, 1-100)
OSC_SEND_RATE=25

# --- OSC Empfang -------------------------------------------------------------

# Port für /beat, /clockmode, /tap
OSC_PORT_A3MOTION=7775

# --- Pioneer Pro DJ Link ----------------------------------------------------

# Virtual CDJ Device-Nummer (7 = Standard, vermeidet Konflikt mit CDJ 1-4)
# Ports 50000/50001/50002 sind Protokoll-fest
PIONEER_DEVICE_NUM=7

# --- Clock-Modus (wird zur Laufzeit via /clockmode umgeschaltet) ------------
#   0 = a3motion: /beat von Port 7775 empfangen, weiterleiten an alle AUSSER motion
#   1 = intern:   Eigene Beatclock (BTrack + Synthclock), senden an alle Ziele
#   2 = pioneer:  Beat vom Pioneer DJ Link Master, weiterleiten an alle Ziele

# --- VU-Meter ----------------------------------------------------------------

VU_RMS_ATTACK=0.8               # 0.0-1.0 (höher = schnellere Reaktion)
VU_RMS_RELEASE=0.2              # 0.0-1.0 (höher = schnellerer Abfall)
VU_PEAK_FALLOFF=20.0            # dB pro Sekunde

# --- Features ----------------------------------------------------------------

ENABLE_BEATCLOCK=1
ENABLE_BEAT=1
ENABLE_VU=1

# --- Debug -------------------------------------------------------------------

LOG_LEVEL=1                     # 0=DEBUG 1=INFO 2=WARN 3=ERROR
DEBUG_BEAT_CONSOLE=1            # BEAT 1 | BPM 120.0 | delta ...
DEBUG_BTRACK_CONSOLE=0          # BTRACK_BEAT: delta=... bpm_raw=...
DEBUG_PIONEER_CONSOLE=0         # PIONEER_BEAT 1 | BPM 120.0 ...
DEBUG_VU_CONSOLE=0
